import React, { Component } from "react";
import { gsap } from "gsap";
import TylerPicture from "../assets/tyler_petra.jpg";
import Splitting from "splitting";

export class LandingPage extends Component {
  constructor(props) {
    super(props);
    this.timeline = null;
    this.timelineSettings = null;
    this.DOM = null;
  }

  componentDidMount() {
    Splitting();

    this.DOM = {
      title: {
        section: document.querySelector(".title"),
        get chars() {
          return this.section.querySelectorAll(".word > .char, .whitespace");
        },
        get container() {
          return this.section.querySelectorAll(".title-paragraph");
        },
      },
      image: {
        section: document.querySelector(".image-container"),
      },
      fadeInAfter: {
        items: document.querySelectorAll(".home-fade-in"),
        borders: document.querySelectorAll(".border-fade-in"),
      },
    };

    this.timelineSettings = {
      staggerValue: 0.05,
      charsDuration: 2,
    };

    // Was fixed by adding display: inline block in char style
    this.timeline = gsap
      .timeline({ paused: true })
      .addLabel("start")
      .set(
        this.DOM.title.chars,
        {
          opacity: "0%",
          y: "200",
        },
        "switchtime"
      )
      .set(
        this.DOM.image.section,
        {
          y: "-40%",
          rotation: 4,
          opacity: 0,
        },
        "switchtime"
      )
      // Stagger the animation of the about section chars
      .staggerTo(
        this.DOM.title.chars,
        this.timelineSettings.charsDuration,
        {
          ease: "Power3.easeOut",
          opacity: "100%",
          y: "0",
        },
        this.timelineSettings.staggerValue,
        "switchtime"
      )
      .to(
        this.DOM.image.section,
        3,
        {
          ease: "Power3.easeOut",
          y: "0%",
          opacity: 1,
          rotation: 0,
        },
        "switchtime+=1"
      )
      .to(this.DOM.fadeInAfter.borders, {
        border: "1px solid black",
      })
      .to(this.DOM.fadeInAfter.items, {
        opacity: 1,
      });

    this.timeline.play();
  }

  render() {
    return (
      <div style={containerStyle}>
        <nav style={navStyle}>
          <a
            style={linkStyle}
            href="#"
            className="home-fade-in link"
            data-splitting=""
          >
            about
          </a>
          <a
            style={linkStyle}
            href="#"
            className="home-fade-in link"
            data-splitting=""
          >
            discography
          </a>
          <a
            style={linkStyle}
            href="#"
            className="home-fade-in link"
            data-splitting=""
          >
            socials
          </a>
        </nav>
        <div style={innerBoxStyle} className="border-fade-in">
          <div className="title" style={titleContainer}>
            <div className="title-paragraph" data-splitting="">
              Tyler,
            </div>
            <div className="title-paragraph" data-splitting="">
              the Creator
            </div>
          </div>
          <div style={leftPane}>
            <span className="home-fade-in" style={leftSubtext}>
              WHO DAT BOY?
            </span>
          </div>
          <div style={rightPane}>
            <div style={imgContainer} className="image-container"></div>
            <div className="home-fade-in" style={imageCaptionStyle}>
              <span style={{ fontFamily: "roc-grotesk-wide, sans-serif" }}>
                photo by
              </span>
              {"   "}
              <span style={{ fontFamily: "Otto Attac Type", fontSize: "2em" }}>
                Petra Collins
              </span>
            </div>
          </div>
        </div>
        <div style={starContainer} className="home-fade-in">
          <svg
            width="317"
            height="317"
            viewBox="0 0 317 317"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M158.5 0L189.677 42.1446L237.75 21.235L243.678 73.3219L295.765 79.25L274.855 127.323L317 158.5L274.855 189.677L295.765 237.75L243.678 243.678L237.75 295.765L189.677 274.855L158.5 317L127.323 274.855L79.25 295.765L73.3219 243.678L21.235 237.75L42.1446 189.677L0 158.5L42.1446 127.323L21.235 79.25L73.3219 73.3219L79.25 21.235L127.323 42.1446L158.5 0Z"
              fill="#FFBF5F"
            />
            <path
              d="M50.368 159H60.76C66.568 159 67.912 156.936 67.912 154.368C67.912 152.952 67.072 151.224 64.408 150.768V150.744C66.52 150.192 67.12 148.656 67.12 147.384C67.12 145.536 66.232 143.208 60.4 143.208H50.368V159ZM54.976 149.616V146.376H60.232C62.368 146.376 63.112 147.072 63.112 147.984C63.112 148.992 62.44 149.616 60.52 149.616H54.976ZM54.976 155.856V152.304H60.64C62.776 152.304 63.544 153.096 63.544 153.96C63.544 155.112 62.872 155.856 60.544 155.856H54.976ZM85.3178 152.976C85.3178 149.112 82.9418 146.904 77.7098 146.904C72.5258 146.904 69.5978 149.328 69.5978 153.192C69.5978 156.192 71.5178 159.24 77.9498 159.24C83.2058 159.24 85.1978 157.368 85.3178 155.088H81.5258C81.3578 155.904 80.5658 156.552 77.9498 156.552C75.0938 156.552 74.1338 155.448 73.9178 153.96H85.3178V152.976ZM81.5258 151.752H74.0138C74.3738 150.36 75.4538 149.592 77.9498 149.592C80.7098 149.592 81.5258 150.576 81.5258 151.656V151.752ZM94.3084 159.24C100.668 159.24 102.012 157.128 102.012 155.208C102.012 154.008 101.484 153.072 100.38 152.568C99.3964 152.112 97.7884 151.968 96.0124 151.872C94.4284 151.776 93.2044 151.776 92.3884 151.656C91.5244 151.512 91.2604 151.272 91.2604 150.816C91.2604 150.072 92.0764 149.592 94.4284 149.592C96.8284 149.592 97.2364 150.288 97.2604 151.152H101.292C101.292 148.848 99.9964 146.904 94.3084 146.904C89.5564 146.904 86.9884 148.584 86.9884 151.08C86.9884 152.088 87.3724 152.976 88.2604 153.504C89.1484 154.032 90.8284 154.296 93.1564 154.392C94.4524 154.464 95.8444 154.464 96.7564 154.584C97.5244 154.68 97.7404 154.992 97.7404 155.352C97.7404 156.072 97.1644 156.552 94.3084 156.552C91.3564 156.552 91.0444 155.832 91.0204 155.064H86.9884C86.9884 156.864 87.9484 159.24 94.3084 159.24ZM112.099 159.24C113.491 159.24 114.907 159.072 115.531 158.88V155.928C114.883 156.048 113.707 156.168 112.795 156.168C110.347 156.168 109.555 155.688 109.555 154.296V150.216H115.651V147.144H109.555V144.456H106.051L105.835 146.112C105.739 146.832 105.547 147.144 104.923 147.144H103.099V150.216H105.283V154.392C105.283 157.176 106.867 159.24 112.099 159.24ZM125.134 159H129.742V153.312H135.454C137.422 153.312 138.046 154.056 138.046 155.688V159H142.654V155.688C142.654 154.032 142.39 152.28 139.894 151.704V151.656C142.078 151.008 142.75 149.472 142.75 147.888C142.75 145.056 140.926 143.208 135.07 143.208H125.134V159ZM129.742 150.624V146.616H134.878C137.542 146.616 138.382 147.432 138.382 148.56C138.382 149.784 137.566 150.624 135.286 150.624H129.742ZM150.687 159.24C154.431 159.24 155.847 158.064 156.327 156.36H156.351C156.351 157.104 156.279 158.184 156.231 159H160.503V152.256C160.503 148.824 157.887 146.904 152.727 146.904C147.447 146.904 145.407 148.512 145.407 150.768C145.407 150.816 145.407 150.984 145.431 151.2H149.463C149.439 151.08 149.439 151.008 149.439 150.984C149.439 150.288 150.062 149.592 152.559 149.592C155.271 149.592 156.231 150.24 156.231 151.848V152.016H149.583C146.247 152.016 145.023 153.528 145.023 155.472C145.023 157.176 146.319 159.24 150.687 159.24ZM151.887 156.552C149.631 156.552 148.815 155.976 148.815 155.232C148.815 154.464 149.439 154.224 150.879 154.224H156.231V154.32C156.231 155.304 154.767 156.552 151.887 156.552ZM162.581 163.752H166.853V159.144C166.853 158.496 166.781 157.416 166.733 156.768H166.757C167.597 158.304 169.301 159.24 172.229 159.24C176.717 159.24 179.477 157.128 179.477 152.808C179.477 149.232 177.125 146.904 172.229 146.904C169.301 146.904 167.453 147.912 166.829 149.712H166.805L166.853 147.144H162.581V163.752ZM171.269 156.168C168.269 156.168 166.853 154.872 166.853 153.336V153.264C166.853 151.32 168.461 149.976 171.245 149.976C174.005 149.976 175.229 151.152 175.229 152.952C175.229 155.16 174.005 156.168 171.269 156.168ZM205.3 159H210.652L202.06 143.208H196.588L187.996 159H192.748L194.38 155.784H203.668L205.3 159ZM195.724 153.096L198.988 146.664H199.012L202.3 153.096H195.724ZM212.269 159H216.541V142.2H212.269V159ZM228.456 159.24C233.016 159.24 235.704 157.08 235.704 152.832C235.704 149.184 233.304 146.904 228.456 146.904C225.096 146.904 223.584 148.248 223.08 149.616H223.032C223.056 149.136 223.08 148.248 223.08 147.624V142.2H218.808V159H223.08C223.032 158.304 222.984 157.368 222.984 156.744H223.008C223.344 157.632 224.76 159.24 228.456 159.24ZM227.496 156.168C224.496 156.168 223.08 154.872 223.08 153.336V153.264C223.08 151.32 224.688 149.976 227.472 149.976C230.232 149.976 231.432 151.152 231.432 152.952C231.432 155.16 230.232 156.168 227.496 156.168ZM243.555 159.24C247.371 159.24 249.099 157.944 249.891 155.616H249.939C249.939 156.864 249.915 158.28 249.891 159H254.163V147.144H249.891V152.016C249.891 154.488 247.803 155.928 245.355 155.928C242.691 155.928 241.779 154.92 241.779 153.024V147.144H237.507V153.984C237.507 156.744 239.259 159.24 243.555 159.24ZM256.33 159H260.602V153.576C260.602 151.224 262.354 150.216 263.986 150.216C266.026 150.216 266.842 151.176 266.842 152.976V159H271.114V153.576C271.114 151.224 272.89 150.216 274.522 150.216C276.562 150.216 277.354 151.176 277.354 152.976V159H281.626V151.896C281.626 148.824 280.162 146.904 276.466 146.904C273.634 146.904 271.714 148.344 271.066 150.648H271.042C270.634 148.248 269.05 146.904 265.93 146.904C263.026 146.904 261.298 148.344 260.578 150.576H260.554L260.602 147.144H256.33V159ZM59.896 185.288C63.352 185.288 66.064 184.256 66.832 181.784H66.856C66.808 182.984 66.712 184.424 66.664 185H68.776V177.32H59.152V179.096H66.52V179.192C66.52 180.92 64.888 183.32 59.896 183.32C54.832 183.32 52.432 180.56 52.432 177.32C52.432 173.816 54.928 170.888 59.896 170.888C64.744 170.888 66.472 172.976 66.472 174.968C66.472 175.112 66.472 175.208 66.448 175.448H68.56C68.584 175.184 68.584 174.992 68.584 174.896C68.584 172.04 66.256 168.92 59.896 168.92C53.44 168.92 50.176 172.904 50.176 177.296C50.176 181.328 53.056 185.288 59.896 185.288ZM71.7441 185H73.8561V180.632C73.8561 177.512 76.0161 174.776 79.4961 174.776C82.4481 174.776 83.4561 176.264 83.4561 179.264C83.4561 179.672 83.4321 180.2 83.4321 180.488H85.4241C85.4481 180.176 85.4721 179.48 85.4721 178.664C85.4721 175.064 83.7921 172.904 79.8801 172.904C76.4001 172.904 74.6481 174.632 73.8801 176.912H73.8321L73.8561 173.144H71.7441V185ZM94.0326 185.216C98.2326 185.216 100.153 184.016 100.705 181.952H100.729C100.705 182.864 100.657 184.184 100.585 185H102.697V178.304C102.697 175.088 100.225 172.904 95.2566 172.904C90.6006 172.904 88.3446 174.512 88.3446 176.864C88.3446 176.912 88.3446 177.056 88.3686 177.272H90.3846C90.3606 177.104 90.3606 177.032 90.3606 176.96C90.3606 175.664 91.6806 174.68 95.2566 174.68C98.9766 174.68 100.585 175.88 100.585 178.088V178.4H93.0486C90.3846 178.4 87.9366 178.904 87.9366 181.52C87.9366 183.512 89.7606 185.216 94.0326 185.216ZM94.1526 183.44C90.5046 183.44 89.9526 182.312 89.9526 181.472C89.9526 180.08 91.2246 179.936 93.3126 179.936H100.585V179.984C100.585 181.712 98.6646 183.44 94.1526 183.44ZM105.4 185H107.512V179.648C107.512 176.384 110.368 174.776 112.624 174.776C115.504 174.776 116.656 176.192 116.656 178.712V185H118.768V179.648C118.768 176.144 121.624 174.776 123.904 174.776C126.784 174.776 127.912 176.192 127.912 178.712V185H130.024V178.16C130.024 174.896 128.152 172.904 124.384 172.904C121.408 172.904 119.344 173.936 118.672 176.6H118.648C118.216 174.464 116.344 172.904 113.128 172.904C110.152 172.904 108.328 174.128 107.512 176.696H107.488L107.512 173.144H105.4V185ZM132.729 185H134.84V179.648C134.84 176.384 137.697 174.776 139.953 174.776C142.833 174.776 143.984 176.192 143.984 178.712V185H146.097V179.648C146.097 176.144 148.953 174.776 151.233 174.776C154.113 174.776 155.241 176.192 155.241 178.712V185H157.353V178.16C157.353 174.896 155.481 172.904 151.713 172.904C148.737 172.904 146.673 173.936 146.001 176.6H145.977C145.545 174.464 143.673 172.904 140.457 172.904C137.48 172.904 135.657 174.128 134.84 176.696H134.817L134.84 173.144H132.729V185ZM162.354 190.232C165.138 190.232 166.314 188.936 168.354 185.216L174.954 173.144H172.65L167.226 183.2H167.178L161.058 173.144H158.538L165.858 185H166.266C164.706 187.784 163.938 188.36 162.354 188.36C161.442 188.36 160.698 188.192 160.314 188.048V189.896C160.674 190.04 161.466 190.232 162.354 190.232ZM184.929 185H200.625V183.032H187.497C187.521 182.216 187.785 182.024 192.729 180.464C198.657 178.592 200.169 176.912 200.169 174.128C200.169 171.824 198.345 168.968 192.897 168.968C187.545 168.968 185.121 171.704 185.121 174.824C185.121 175.616 185.217 176.312 185.289 176.624H187.425C187.353 176.336 187.233 175.712 187.233 175.016C187.233 172.568 189.057 170.936 192.897 170.936C196.521 170.936 197.913 172.592 197.913 174.176C197.913 176.12 197.121 177.128 191.601 178.904C185.601 180.8 184.929 181.616 184.929 185ZM212.045 185.24C218.045 185.24 220.493 181.376 220.493 177.032C220.493 172.448 217.613 168.968 212.045 168.968C206.525 168.968 203.645 172.448 203.645 177.032C203.645 181.376 206.069 185.24 212.045 185.24ZM212.045 183.272C207.749 183.272 205.901 180.488 205.901 177.032C205.901 173.384 208.061 170.936 212.045 170.936C216.077 170.936 218.237 173.384 218.237 177.032C218.237 180.488 216.365 183.272 212.045 183.272ZM223.32 185H239.016V183.032H225.888C225.912 182.216 226.176 182.024 231.12 180.464C237.048 178.592 238.56 176.912 238.56 174.128C238.56 171.824 236.736 168.968 231.288 168.968C225.936 168.968 223.512 171.704 223.512 174.824C223.512 175.616 223.608 176.312 223.68 176.624H225.816C225.744 176.336 225.624 175.712 225.624 175.016C225.624 172.568 227.448 170.936 231.288 170.936C234.912 170.936 236.304 172.592 236.304 174.176C236.304 176.12 235.512 177.128 229.992 178.904C223.992 180.8 223.32 181.616 223.32 185ZM250.435 185.24C256.435 185.24 258.883 181.376 258.883 177.032C258.883 172.448 256.003 168.968 250.435 168.968C244.915 168.968 242.035 172.448 242.035 177.032C242.035 181.376 244.459 185.24 250.435 185.24ZM250.435 183.272C246.139 183.272 244.291 180.488 244.291 177.032C244.291 173.384 246.451 170.936 250.435 170.936C254.467 170.936 256.627 173.384 256.627 177.032C256.627 180.488 254.755 183.272 250.435 183.272Z"
              fill="black"
            />
          </svg>
        </div>
      </div>
    );
  }
}

const containerStyle = {};

const innerBoxStyle = {
  border: "1px solid transparent",
  margin: "0 2em 2em 2em",
  height: "calc(100vh - 6em)",
};

const linkStyle = {
  fontFamily: "roc-grotesk-wide, sans-serif",
  textDecoration: "none",
  color: "black",
  padding: "3em",
};

const navStyle = {
  padding: "1em 0 1em 0",
  textAlign: "right",
};

const titleContainer = {
  width: "60%",
  margin: "7rem 1em",
  fontFamily: "Otto Attac Type",
  fontSize: "10rem",
  zIndex: "10",
};

const imgContainer = {
  backgroundImage: `url(${TylerPicture})`,
  height: "75vh",
  width: "35vw",
  backgroundRepeat: "no-repeat",
  backgroundSize: "cover",
  backgroundPosition: "center",
  marginLeft: "9vw",
};

const rightPane = {
  width: "50%",
  paddingTop: "5vh",
  float: "right",
};

const leftPane = {
  width: "50%",
  float: "left",
};

const imageCaptionStyle = {
  paddingTop: ".5em",
  marginLeft: "4vw",
  display: "flex",
  alignItems: "flex-start",
};

const leftSubtext = {
  fontFamily: "roc-grotesk-wide, sans-serif",
  textDecoration: "underline",
  fontSize: "1.8em",
  position: "absolute",
  bottom: "7rem",
  left: "7em",
};

const starContainer = {
  position: "absolute",
  bottom: "1em",
  right: "1em",
};

export default LandingPage;
